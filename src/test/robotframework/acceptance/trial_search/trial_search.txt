*** Settings ***

Library    Selenium2Library    15

*** Variables ***

${SERVER} =    http://trialdirectuat-tekenable.rhcloud.com/#/users
${BROWSER}        Firefox
${DELAY}          1

*** Test Cases ***
Open Browser To Trial Search Page
    [Tags]  3.1
    Open Browser To Trial Search Page
Create New User
    [Tags]  3.2
    Create New User
Answer Trial Questions
    [Tags]  3.3
    Answer Trial Questions
Select Trial Info
    [Tags]  3.4
    Select Trial Info
Open Selected Trial Info Page
    [Tags]  3.5
    Open Selected Trial Info Page

    [Teardown]  close browser

*** Keywords ***
Open Browser To Trial Search Page
    set selenium speed  ${DELAY}
    set selenium implicit wait  10
    open browser  ${SERVER}   ${BROWSER}
    maximize browser window

Create New User
    click element  xpath=html/body/main/div[1]/div/div/div/div[2]/form/div[1]/div[2]/label/span
    input text  xpath=.//*[@id='newUserInput']  Tomas
    click element  xpath=html/body/main/div[1]/div/div/div/div[2]/form/div[2]/div[2]/div[1]/span/button
    capture page screenshot    filename=Screen4.png
Answer Trial Questions
    click element  xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[2]/div[3]/div[2]/label[1]/span
    click element  xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[2]/div[4]/div[2]/label[4]/span
    click element  xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[2]/div[5]/div[2]/label[1]/span
    capture page screenshot    filename=Screen5.png
Select Trial Info
    element should not contain  xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[1]/div/h1   0
    wait until keyword succeeds    10secs    1sec    page should contain element    xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[4]/div/div[1]/ul/li[3]/a
    click element  xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[4]/div/div[1]/ul/li[3]/a
Open Selected Trial Info Page
    wait until keyword succeeds    10secs    1sec    page should contain element    xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[3]/div[1]
    element should be visible    xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[3]/div[1]
    wait until keyword succeeds    10secs    1sec    page should contain element    xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[3]/div[2]/div
    element should be visible    xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[3]/div[2]/div
    wait until keyword succeeds    10secs    1sec    page should contain element    xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[3]/div[3]/div
    element should be visible    xpath=html/body/main/div[1]/div/div/div/div[2]/div/form/div[3]/div[3]/div
    capture page screenshot    filename=Screen6.png

