*** Settings ***

Library    Selenium2Library    15

*** Variables ***

${SERVER} =    http://trialdirectuat-tekenable.rhcloud.com/#/trials
${BROWSER}        Firefox
${DELAY}          1

*** Test Cases ***
Create New Trial
    Open Browser To Trial Creation Page
    Create New Cancer Trial Without Entering Data Into Two Text Boxes
    [Teardown]  close browser

*** Keywords ***
Open Browser To Trial Creation Page
    set selenium speed  ${DELAY}
    set selenium implicit wait  10
    open browser  ${SERVER}   ${BROWSER}
    maximize browser window

Create New Cancer Trial Without Entering Data Into Two Text Boxes
    wait until keyword succeeds    10secs    1sec    Page Should Contain Element    xpath=html/body/main/div/div/div/div/div[2]/form[1]/div[1]/label/span
    click element  xpath=html/body/main/div/div/div/div/div[2]/form[1]/div[1]/label/span
    wait until keyword succeeds    10secs    1sec    page should contain element    xpath=.//*[@id='newTrialInput']
    input text    xpath=.//*[@id='newTrialInput']    Brain Cancer Trial
    wait until keyword succeeds    10secs    1sec    Page Should Contain Element    xpath=.//*[@id='add-trial-button']
    click element    xpath=.//*[@id='add-trial-button']
    wait until keyword succeeds    10secs    1sec    Page Should Contain Element    xpath=.//*[@id='trialInfo-description']
    input text    xpath=.//*[@id='trialInfo-description']    Lorem Ipsum
    wait until keyword succeeds    10secs    1sec    Page Should Contain Element    xpath=.//*[@id='trialLogo']
    choose file    xpath=.//*[@id='trialLogo']    ${CURDIR}${/}pharma.jpg
    wait until keyword succeeds    10secs    1sec    Page Should Contain Element    xpath=.//*[@id='myForm']/fieldset/div[3]/button
    click element    xpath=.//*[@id='myForm']/fieldset/div[3]/button
    wait until keyword succeeds    10secs    1sec    Page Should Contain Element    xpath=.//*[@id='trial-site-director0']
    input text    xpath=.//*[@id='trial-site-summary0']    Lorem ipsum
    input text    xpath=.//*[@id='trial-site-map0']    https://www.google.ie/maps/@53.3454842,-6.260181,17z
    choose file    xpath=.//*[@id='trial-site-logo0']    ${CURDIR}${/}doctor.jpg
    click element    xpath=.//*[@id='myForm']/fieldset/div[5]/button
    capture page screenshot    filename=Screen3.png